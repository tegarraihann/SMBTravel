import{r as _,z as U,c as s,o as l,a as u,u as c,h as $,w as g,b as e,i as m,t as r,l as x,d as b,n as v,F as j,e as P,s as k}from"./app-DuLUwTU_.js";import{_ as F}from"./AuthenticatedLayout-SV__XKGo.js";import{_ as V}from"./ProgressBar-CdIJHcmi.js";import"./ApplicationLogo-uq9fm9QF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-ByflGO8O.js";const L={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},N={class:"lg:col-span-2 space-y-6"},I={class:"bg-white rounded-lg border border-gray-200 p-6"},J={class:"flex items-start space-x-4"},q=["src","alt"],E={class:"flex-1"},G={class:"font-semibold text-gray-900"},O={class:"text-gray-600 text-sm mt-1"},W={class:"mt-2"},Q={class:"text-lg font-bold text-blue-600"},X={class:"bg-white rounded-lg border border-gray-200 p-6"},Y={class:"flex items-center justify-between mb-4"},Z={key:0,class:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},ee={class:"space-y-4"},te={class:"flex justify-between items-center"},ae={class:"font-semibold"},se={class:"flex justify-between items-center"},le={class:"font-semibold text-green-600"},oe={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-3"},ne={class:"flex items-center justify-between text-sm"},re={class:"border-t pt-4"},ie={class:"flex justify-between items-center"},de={key:0,class:"text-xs text-gray-500 mt-1"},ue={key:0,class:"mt-6 pt-6 border-t space-y-3"},me={key:0,class:"text-center"},be={key:1,class:"mt-6 pt-6 border-t"},ce={key:0,class:"bg-white rounded-lg border border-gray-200 p-6"},ge={class:"flex items-center justify-between mb-4"},pe={class:"space-y-3"},xe={class:"flex items-center space-x-3"},fe={key:0,"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},he={key:1,"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"},ye={class:"font-medium text-gray-900"},ve={class:"text-sm text-gray-500"},ke={class:"flex items-center space-x-2"},we=["onClick"],_e=["onClick"],je={class:"mt-4 pt-4 border-t"},Pe={class:"space-y-6"},De={key:0,class:"bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6"},Ce={class:"flex items-center justify-between mb-4"},Se={class:"space-y-4"},Be={class:"bg-white rounded-lg p-4 border border-blue-200"},Te={class:"mt-3"},Me={class:"bg-white rounded-lg border border-gray-200 p-6"},ze={class:"space-y-3"},Ae=["href"],Ke={class:"bg-white rounded-lg border border-gray-200 p-6"},Ue={class:"space-y-4"},$e={class:"text-sm font-medium text-gray-900"},Fe={class:"text-xs text-gray-500"},Ve={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Le={class:"bg-white rounded-lg max-w-md w-full p-6"},Re={class:"space-y-4"},He={class:"border-t pt-4"},Ne={class:"text-2xl font-bold text-blue-600"},Ie={class:"flex space-x-3 mt-6"},Qe={__name:"Dashboard",props:{jamaah:{type:Object,required:!0}},setup(o){const w=o,f=_(!1),i={id:1,name:"City Tour Malaysia",duration:"Pekanbaru - Kuala Lumpur - Madinah",price:245e5,dp:3e6,image:"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},D=_({foto_ktp:"Foto KTP",foto_kk:"Foto Kartu Keluarga",foto_paspor:"Foto Paspor",foto_diri:"Foto 4x6"}),C={foto_ktp:"Kartu Tanda Penduduk yang masih berlaku",foto_kk:"Kartu Keluarga asli",foto_paspor:"Paspor dengan masa berlaku minimal 6 bulan",foto_diri:"Foto berwarna latar belakang putih ukuran 4x6"},S=_([{id:1,title:"Pendaftaran berhasil",date:"22 September 2025"},{id:2,title:"Pembayaran DP",date:"Menunggu pembayaran"},{id:3,title:"Manasik Umroh",date:"TBD"},{id:4,title:"Keberangkatan",date:"TBD"}]),h=a=>(a/1e6).toFixed(0)+" Juta",B=a=>{switch(a){case"pay-dp":f.value=!0;break;case"contact-admin":window.open(`https://wa.me/6281234567890?text=Halo, saya ${w.jamaah.nama_lengkap} dengan ID ${w.jamaah.id}. Saya memerlukan bantuan mengenai pendaftaran umroh.`,"_blank");break;case"view-payment-details":break;case"view-installments":k.visit(route("jamaah.installments"));break;case"upload-documents":k.visit(route("jamaah.dokumen"));break;case"view-manasik-schedule":k.visit(route("jamaah.manasik"));break}},T=()=>{const t=document.querySelector('input[type="file"]').files[0];if(!t){alert("Silakan pilih file bukti pembayaran terlebih dahulu");return}const d=new FormData;d.append("bukti_transfer",t),k.post(route("jamaah.pembayaran.upload"),d,{onSuccess:n=>{f.value=!1,window.location.reload()},onError:n=>{console.error("Upload error:",n),alert("Gagal upload bukti pembayaran. Silakan coba lagi.")}})},p=a=>y.value&&y.value[a],M=a=>C[a]||"",z=a=>{window.location.href=route("jamaah.dokumen")+"#"+a},A=a=>{y.value&&y.value[a]&&window.open("/storage/"+y.value[a],"_blank")},y=U(()=>w.jamaah);return(a,t)=>(l(),s(j,null,[u(c($),{title:"Dashboard Jamaah"}),u(F,null,{default:g(()=>[e("div",L,[e("div",R,[u(V,{"current-step":o.jamaah.current_step,"jamaah-data":o.jamaah,onStepAction:B},null,8,["current-step","jamaah-data"]),e("div",H,[e("div",N,[e("div",I,[t[3]||(t[3]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Paket yang Dipilih",-1)),e("div",J,[e("img",{src:i.image,alt:i.name,class:"w-24 h-24 object-cover rounded-lg"},null,8,q),e("div",E,[e("h4",G,r(i.name),1),e("p",O,r(i.duration),1),e("div",W,[e("span",Q," Rp "+r(h(i.price)),1),t[2]||(t[2]=e("span",{class:"text-gray-500 text-sm ml-2"},"/ orang",-1))])])])]),e("div",X,[e("div",Y,[t[4]||(t[4]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Informasi Pembayaran",-1)),o.jamaah.program_talangan?(l(),s("div",Z," Program Talangan ")):m("",!0)]),e("div",ee,[e("div",te,[t[5]||(t[5]=e("span",{class:"text-gray-600"},"Total Paket",-1)),e("span",ae,"Rp "+r(h(i.price)),1)]),e("div",se,[t[6]||(t[6]=e("span",{class:"text-gray-600"},"DP yang Dibayar",-1)),e("span",le," Rp "+r(h(o.jamaah.dp_paid||i.dp)),1)]),o.jamaah.program_talangan?(l(),s("div",oe,[e("div",ne,[t[8]||(t[8]=e("span",{class:"text-blue-700 font-medium"},"Pembayaran Cicilan",-1)),u(c(x),{href:a.route("jamaah.installments"),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:g(()=>[...t[7]||(t[7]=[b(" Lihat Detail → ",-1)])]),_:1},8,["href"])]),t[9]||(t[9]=e("p",{class:"text-blue-600 text-xs mt-1"}," Sisa pembayaran akan dibagi menjadi 5 cicilan bulanan ",-1))])):m("",!0),e("div",re,[e("div",ie,[t[10]||(t[10]=e("span",{class:"text-gray-600"},"Sisa Pembayaran",-1)),e("span",{class:v(["font-bold",o.jamaah.program_talangan?"text-blue-600":"text-red-600"])}," Rp "+r(h(i.price-(o.jamaah.dp_paid||i.dp))),3)]),o.jamaah.program_talangan?(l(),s("p",de," Akan dibayar dengan sistem cicilan ")):m("",!0)])]),o.jamaah.current_step===2?(l(),s("div",ue,[e("button",{onClick:t[0]||(t[0]=d=>f.value=!0),class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200"}," Bayar DP Sekarang "),o.jamaah.program_talangan?(l(),s("div",me,[...t[11]||(t[11]=[e("p",{class:"text-xs text-gray-500"}," Setelah DP disetujui, jadwal cicilan akan dibuat otomatis ",-1)])])):m("",!0)])):m("",!0),o.jamaah.program_talangan&&o.jamaah.current_step>2?(l(),s("div",be,[u(c(x),{href:a.route("jamaah.installments"),class:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 inline-block text-center"},{default:g(()=>[...t[12]||(t[12]=[b(" Kelola Pembayaran Cicilan ",-1)])]),_:1},8,["href"])])):m("",!0)]),o.jamaah.current_step>=4?(l(),s("div",ce,[e("div",ge,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Dokumen Persyaratan",-1)),u(c(x),{href:a.route("jamaah.dokumen"),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:g(()=>[...t[13]||(t[13]=[b(" Kelola Semua → ",-1)])]),_:1},8,["href"])]),e("div",pe,[(l(!0),s(j,null,P(D.value,(d,n)=>(l(),s("div",{key:n,class:"flex items-center justify-between p-3 border border-gray-200 rounded-lg"},[e("div",xe,[e("div",{class:v(["w-8 h-8 rounded-lg flex items-center justify-center",p(n)?"bg-green-100":"bg-gray-100"])},[(l(),s("svg",{class:v(["w-4 h-4",p(n)?"text-green-600":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[p(n)?(l(),s("path",fe)):(l(),s("path",he))],2))],2),e("div",null,[e("p",ye,r(d),1),e("p",ve,r(M(n)),1)])]),e("div",ke,[e("span",{class:v(["px-2 py-1 text-xs rounded-full",p(n)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"])},r(p(n)?"Sudah Upload":"Belum Upload"),3),p(n)?(l(),s("button",{key:1,onClick:K=>A(n),class:"text-green-600 hover:text-green-800 text-sm font-medium"}," Lihat ",8,_e)):(l(),s("button",{key:0,onClick:K=>z(n),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," Upload ",8,we))])]))),128))]),e("div",je,[u(c(x),{href:a.route("jamaah.dokumen"),class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 inline-block text-center"},{default:g(()=>[...t[15]||(t[15]=[b(" Upload Semua Dokumen ",-1)])]),_:1},8,["href"])])])):m("",!0)]),e("div",Pe,[o.jamaah.program_talangan&&o.jamaah.current_step>2?(l(),s("div",De,[e("div",Ce,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Cicilan Anda",-1)),u(c(x),{href:a.route("jamaah.installments"),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:g(()=>[...t[16]||(t[16]=[b(" Lihat Semua → ",-1)])]),_:1},8,["href"])]),e("div",Se,[t[20]||(t[20]=e("div",null,[e("div",{class:"flex justify-between text-sm mb-2"},[e("span",{class:"text-gray-600"},"Progress Pembayaran"),e("span",{class:"font-medium text-blue-600"},"75%")]),e("div",{class:"w-full bg-white rounded-full h-2 border"},[e("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",style:{width:"75%"}})]),e("p",{class:"text-xs text-gray-500 mt-1"},"3 dari 5 cicilan telah dibayar")],-1)),e("div",Be,[t[19]||(t[19]=e("div",{class:"flex items-center justify-between"},[e("div",null,[e("p",{class:"text-sm font-medium text-gray-900"},"Cicilan Berikutnya"),e("p",{class:"text-xs text-gray-500"},"Jatuh tempo 15 Nov 2025")]),e("div",{class:"text-right"},[e("p",{class:"text-lg font-bold text-blue-600"},"Rp 4.3 Juta")])],-1)),e("div",Te,[u(c(x),{href:a.route("jamaah.installments"),class:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-3 rounded-md transition-colors duration-200 inline-block text-center"},{default:g(()=>[...t[18]||(t[18]=[b(" Bayar Sekarang ",-1)])]),_:1},8,["href"])])]),t[21]||(t[21]=e("div",{class:"bg-red-50 border border-red-200 rounded-lg p-3"},[e("div",{class:"flex items-start"},[e("svg",{class:"h-4 w-4 text-red-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",{class:"ml-2"},[e("p",{class:"text-sm font-medium text-red-800"},"1 Pembayaran Terlambat"),e("p",{class:"text-xs text-red-600"},"Segera lakukan pembayaran untuk menghindari denda")])])],-1))])])):m("",!0),e("div",Me,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Butuh Bantuan?",-1)),e("div",ze,[e("a",{href:`https://wa.me/6281234567890?text=Halo, saya ${o.jamaah.nama_lengkap} dengan ID ${o.jamaah.id}. Saya memerlukan bantuan mengenai pendaftaran umroh.`,target:"_blank",class:"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors"},[...t[22]||(t[22]=[e("div",{class:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})])],-1),e("div",null,[e("p",{class:"font-medium text-gray-900"},"WhatsApp"),e("p",{class:"text-sm text-gray-500"},"Chat langsung")],-1)])],8,Ae),t[23]||(t[23]=e("a",{href:"tel:0761-12345",class:"flex items-center space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors"},[e("div",{class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})])]),e("div",null,[e("p",{class:"font-medium text-gray-900"},"Telepon"),e("p",{class:"text-sm text-gray-500"},"0761-12345")])],-1))])]),e("div",Ke,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Timeline Kegiatan",-1)),e("div",Ue,[(l(!0),s(j,null,P(S.value,d=>(l(),s("div",{key:d.id,class:"flex items-start space-x-3"},[t[25]||(t[25]=e("div",{class:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"},null,-1)),e("div",null,[e("p",$e,r(d.title),1),e("p",Fe,r(d.date),1)])]))),128))])])])])])]),f.value?(l(),s("div",Ve,[e("div",Le,[t[30]||(t[30]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pembayaran Down Payment",-1)),e("div",Re,[t[28]||(t[28]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-700"},[e("strong",null,"Transfer ke:"),e("br"),b(" Bank BCA"),e("br"),b(" No. Rek: 1234567890"),e("br"),b(" A.n: PT Travel Umroh SMB ")])],-1)),e("div",He,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600 mb-2"},"Jumlah yang harus dibayar:",-1)),e("p",Ne," Rp "+r(h(i.dp)),1)]),t[29]||(t[29]=e("div",{class:"border-t pt-4"},[e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Upload Bukti Pembayaran "),e("input",{type:"file",accept:"image/*",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})],-1))]),e("div",Ie,[e("button",{onClick:t[1]||(t[1]=d=>f.value=!1),class:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg"}," Batal "),e("button",{onClick:T,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg"}," Upload & Konfirmasi ")])])])):m("",!0)]),_:1})],64))}};export{Qe as default};
