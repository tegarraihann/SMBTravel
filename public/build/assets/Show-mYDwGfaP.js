import{r as H,j as I,o as a,w as c,b as t,t as i,a as y,u as b,l as f,d as p,c as r,k as d,q as x,F as h,e as v,m as z,p as B,y as L}from"./app-Cbx_-bua.js";import{_ as N}from"./AdminLayout-m-tUBPSK.js";import"./ApplicationLogo-DKH-H1_m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CizZqq9U.js";const V={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},$={class:"mb-6"},E={class:"mt-2 text-sm text-gray-600"},P={class:"flex justify-between items-center"},F={class:"flex space-x-2"},K={class:"flex space-x-2"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 text-gray-900"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},J={class:"text-gray-900"},Y={class:"text-gray-900"},G={class:"text-gray-900"},Q={key:0},R={class:"text-gray-900"},X={key:1},Z={class:"text-gray-900"},tt={key:2},et={class:"text-gray-900"},st={key:3},nt={class:"text-gray-900"},it={class:"text-gray-900"},ot={key:0,class:"mt-6"},at={class:"text-gray-900 whitespace-pre-wrap"},lt={key:1,class:"mt-6"},rt=["href"],dt={key:2,class:"mt-6"},ut={class:"flex flex-wrap gap-2"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},xt={class:"p-6 text-gray-900"},gt={class:"flex justify-between items-center mb-4"},mt={class:"text-sm text-gray-600"},yt={key:0},bt={class:"mb-4 p-4 bg-gray-50 rounded-lg"},ft={class:"flex items-center justify-between"},pt={class:"flex items-center space-x-4"},ht={class:"text-sm text-gray-600"},vt={key:0,class:"flex space-x-2"},kt={class:"overflow-x-auto"},wt={class:"min-w-full divide-y divide-gray-200"},_t={class:"bg-gray-50"},Dt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},St=["checked"],Tt={class:"bg-white divide-y divide-gray-200"},Ct={class:"px-6 py-4 whitespace-nowrap"},Mt=["value"],jt={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm font-medium text-gray-900"},Ht={class:"px-6 py-4 whitespace-nowrap"},It={class:"text-sm text-gray-900"},zt={class:"px-6 py-4 whitespace-nowrap"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vt={key:1,class:"text-center py-8"},Kt={__name:"Show",props:{session:Object},setup(s){const l=H([]),k=n=>n?new Date(n).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",g=n=>n?new Date("1970-01-01T"+n).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"",m=n=>n?new Date(n).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",w=n=>({online:"Online",offline:"Offline",hybrid:"Hybrid"})[n]||n,_=n=>({online:"bg-blue-100 text-blue-800",offline:"bg-green-100 text-green-800",hybrid:"bg-purple-100 text-purple-800"})[n]||"bg-gray-100 text-gray-800",D=n=>({scheduled:"Terjadwal",ongoing:"Berlangsung",completed:"Selesai",cancelled:"Dibatalkan"})[n]||n,S=n=>({scheduled:"bg-yellow-100 text-yellow-800",ongoing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",T=n=>({registered:"Terdaftar",attended:"Hadir",absent:"Tidak Hadir",excused:"Izin"})[n]||n,C=n=>({registered:"bg-blue-100 text-blue-800",attended:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800",excused:"bg-yellow-100 text-yellow-800"})[n]||"bg-gray-100 text-gray-800",M=()=>{l.value.length===session.attendances.length?l.value=[]:l.value=session.attendances.map(n=>n.user_id)},j=n=>{n.target.checked?l.value=session.attendances.map(e=>e.user_id):l.value=[]},u=n=>{if(l.value.length===0){alert("Pilih peserta terlebih dahulu");return}let e=null;n==="excused"&&(e=prompt("Alasan izin (opsional):")),L.post(route("admin.manasik.attendance",session.id),{user_ids:l.value,status:n,notes:e},{onSuccess:()=>{l.value=[]}})};return(n,e)=>(a(),I(N,null,{default:c(()=>[t("div",V,[t("div",O,[t("div",$,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Detail Sesi Manasik",-1)),t("p",E,i(s.session.title),1)]),t("div",P,[t("div",F,[y(b(f),{href:n.route("admin.manasik.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:c(()=>[...e[5]||(e[5]=[p(" ← Kembali ",-1)])]),_:1},8,["href"])]),t("div",K,[y(b(f),{href:n.route("admin.manasik.edit",s.session.id),class:"inline-flex items-center px-4 py-2 bg-yellow-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-600 focus:bg-yellow-600 active:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:c(()=>[...e[6]||(e[6]=[p(" Edit Sesi ",-1)])]),_:1},8,["href"])])]),t("div",U,[t("div",W,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold mb-4"},"Informasi Sesi",-1)),t("div",q,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-600"},"Judul",-1)),t("p",J,i(s.session.title),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-600"},"Tipe",-1)),t("span",{class:x([_(s.session.type),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(w(s.session.type)),3)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-600"},"Status",-1)),t("span",{class:x([S(s.session.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(D(s.session.status)),3)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-600"},"Tanggal",-1)),t("p",Y,i(k(s.session.session_date)),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-600"},"Waktu",-1)),t("p",G,i(g(s.session.start_time))+" - "+i(g(s.session.end_time)),1)]),s.session.location?(a(),r("div",Q,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-600"},"Lokasi",-1)),t("p",R,i(s.session.location),1)])):d("",!0),s.session.instructor_name?(a(),r("div",X,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-600"},"Instruktur",-1)),t("p",Z,i(s.session.instructor_name),1)])):d("",!0),s.session.instructor_contact?(a(),r("div",tt,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-600"},"Kontak Instruktur",-1)),t("p",et,i(s.session.instructor_contact),1)])):d("",!0),s.session.max_participants?(a(),r("div",st,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-600"},"Maksimal Peserta",-1)),t("p",nt,i(s.session.max_participants)+" orang",1)])):d("",!0),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-600"},"Wajib",-1)),t("p",it,i(s.session.is_mandatory?"Ya":"Tidak"),1)])]),s.session.description?(a(),r("div",ot,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-600 mb-2"},"Deskripsi",-1)),t("p",at,i(s.session.description),1)])):d("",!0),s.session.online_link?(a(),r("div",lt,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-600 mb-2"},"Link Online",-1)),t("a",{href:s.session.online_link,target:"_blank",class:"text-blue-600 hover:text-blue-800 break-all"},i(s.session.online_link),9,rt)])):d("",!0),s.session.materials&&s.session.materials.length>0?(a(),r("div",dt,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-600 mb-2"},"Materi",-1)),t("div",ut,[(a(!0),r(h,null,v(s.session.materials,o=>(a(),r("span",{key:o,class:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded"},i(o),1))),128))])])):d("",!0)])]),t("div",ct,[t("div",xt,[t("div",gt,[e[21]||(e[21]=t("h3",{class:"text-lg font-semibold"},"Daftar Peserta",-1)),t("div",mt," Total: "+i(s.session.attendances?s.session.attendances.length:0)+" peserta ",1)]),s.session.attendances&&s.session.attendances.length>0?(a(),r("div",yt,[t("div",bt,[t("div",ft,[t("div",pt,[t("button",{onClick:M,class:"text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded"},i(l.value.length===s.session.attendances.length?"Deselect All":"Select All"),1),t("div",ht,i(l.value.length)+" dipilih ",1)]),l.value.length>0?(a(),r("div",vt,[t("button",{onClick:e[0]||(e[0]=o=>u("attended")),class:"bg-green-500 hover:bg-green-700 text-white text-sm font-bold py-1 px-3 rounded"}," Hadir "),t("button",{onClick:e[1]||(e[1]=o=>u("absent")),class:"bg-red-500 hover:bg-red-700 text-white text-sm font-bold py-1 px-3 rounded"}," Tidak Hadir "),t("button",{onClick:e[2]||(e[2]=o=>u("excused")),class:"bg-yellow-500 hover:bg-yellow-700 text-white text-sm font-bold py-1 px-3 rounded"}," Izin ")])):d("",!0)])]),t("div",kt,[t("table",wt,[t("thead",_t,[t("tr",null,[t("th",Dt,[t("input",{type:"checkbox",onChange:j,checked:l.value.length===s.session.attendances.length,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,40,St)]),e[22]||(e[22]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nama ",-1)),e[23]||(e[23]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email ",-1)),e[24]||(e[24]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ",-1)),e[25]||(e[25]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Terdaftar ",-1)),e[26]||(e[26]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Hadir ",-1)),e[27]||(e[27]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nilai ",-1))])]),t("tbody",Tt,[(a(!0),r(h,null,v(s.session.attendances,o=>(a(),r("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",Ct,[z(t("input",{type:"checkbox",value:o.user_id,"onUpdate:modelValue":e[3]||(e[3]=A=>l.value=A),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Mt),[[B,l.value]])]),t("td",jt,[t("div",At,i(o.user.name),1)]),t("td",Ht,[t("div",It,i(o.user.email),1)]),t("td",zt,[t("span",{class:x([C(o.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(T(o.status)),3)]),t("td",Bt,i(o.registered_at?m(o.registered_at):"-"),1),t("td",Lt,i(o.attended_at?m(o.attended_at):"-"),1),t("td",Nt,i(o.completion_score||"-"),1)]))),128))])])])])):(a(),r("div",Vt,[...e[28]||(e[28]=[t("div",{class:"text-gray-400 mb-2"},[t("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),t("p",{class:"text-gray-500"}," Belum ada peserta terdaftar untuk sesi ini ",-1)])]))])])])])]),_:1}))}};export{Kt as default};
