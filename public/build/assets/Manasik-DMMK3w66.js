import{_ as M}from"./AuthenticatedLayout-SV__XKGo.js";import{c as n,o as d,a as _,u as A,h as B,w as b,b as t,i as l,t as i,F as u,e as x,n as g,s as v}from"./app-DuLUwTU_.js";import"./ApplicationLogo-uq9fm9QF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-ByflGO8O.js";const T={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},L={class:"bg-white overflow-hidden shadow rounded-lg"},F={class:"p-5"},H={class:"flex items-center"},I={class:"ml-5 w-0 flex-1"},N={class:"text-lg font-medium text-gray-900"},O={class:"bg-white overflow-hidden shadow rounded-lg"},$={class:"p-5"},J={class:"flex items-center"},P={class:"ml-5 w-0 flex-1"},R={class:"text-lg font-medium text-gray-900"},W={class:"bg-white overflow-hidden shadow rounded-lg"},E={class:"p-5"},q={class:"flex items-center"},G={class:"ml-5 w-0 flex-1"},K={class:"text-lg font-medium text-gray-900"},Q={class:"bg-white overflow-hidden shadow rounded-lg"},U={class:"p-5"},X={class:"flex items-center"},Y={class:"ml-5 w-0 flex-1"},Z={class:"text-lg font-medium text-gray-900"},tt={class:"bg-white overflow-hidden shadow rounded-lg mb-8"},et={class:"p-6"},st={key:0,class:"space-y-4"},at={class:"flex justify-between items-start mb-3"},nt={class:"text-lg font-medium text-gray-900"},dt={key:0,class:"text-gray-600 text-sm mt-1"},it={class:"flex space-x-2"},lt={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},rt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"},ot={class:"text-sm text-gray-900"},ct={class:"text-sm text-gray-900"},ut={key:0},gt={class:"text-sm text-gray-900"},mt={key:1},xt={class:"text-sm text-gray-900"},yt={key:0,class:"mb-4"},ht=["href"],pt={key:1,class:"mb-4"},ft={class:"flex flex-wrap gap-2"},_t={class:"flex justify-between items-center"},bt={key:1,class:"text-gray-500 text-sm"},vt={class:"flex items-center space-x-3"},kt={key:0,class:"text-xs text-gray-500"},wt={class:"flex space-x-2"},St=["onClick","disabled"],Ct={key:0},jt={key:1},Dt=["onClick"],Mt={key:1,class:"text-center py-8"},At={key:0,class:"bg-white overflow-hidden shadow rounded-lg"},Bt={class:"p-6"},Tt={class:"space-y-3"},Vt={class:"flex justify-between items-center"},zt={class:"font-medium text-gray-900"},Lt={class:"text-sm text-gray-600"},Ft={class:"flex items-center space-x-3"},Ht={key:1,class:"text-right"},It={class:"text-sm font-medium text-gray-900"},Rt={__name:"Manasik",props:{upcomingSessions:Array,pastSessions:Array,jamaahData:Object},setup(r){const y=r,h=a=>a?new Date(a).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",o=a=>a?new Date("1970-01-01T"+a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"",k=a=>({online:"Online",offline:"Offline",hybrid:"Hybrid"})[a]||a,w=a=>({online:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",offline:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",hybrid:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",p=a=>({registered:"Terdaftar",attended:"Hadir",absent:"Tidak Hadir",excused:"Izin"})[a]||a,f=a=>({registered:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",attended:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",absent:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",excused:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",m=a=>a.max_participants&&(a.participant_count||0)>=a.max_participants,S=a=>{confirm("Apakah Anda yakin ingin mendaftar untuk sesi manasik ini?")&&v.post(route("jamaah.manasik.register",a))},C=a=>{confirm("Apakah Anda yakin ingin membatalkan pendaftaran?")&&v.delete(route("jamaah.manasik.unregister",a))},j=()=>y.upcomingSessions.filter(a=>a.attendances&&a.attendances.length>0).length,D=()=>y.pastSessions.filter(a=>a.attendances&&a.attendances.length>0&&a.attendances[0].status==="attended").length;return(a,s)=>(d(),n(u,null,[_(A(B),{title:"Jadwal Manasik"}),_(M,null,{header:b(()=>[...s[0]||(s[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Jadwal Manasik & Persiapan ",-1)])]),default:b(()=>[t("div",T,[t("div",V,[t("div",z,[t("div",L,[t("div",F,[t("div",H,[s[2]||(s[2]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])])],-1)),t("div",I,[t("dl",null,[s[1]||(s[1]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Step Saat Ini",-1)),t("dd",N,i(r.jamaahData.current_step)+" dari 4",1)])])])])]),t("div",O,[t("div",$,[t("div",J,[s[4]||(s[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",P,[t("dl",null,[s[3]||(s[3]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Sesi Terdaftar",-1)),t("dd",R,i(j()),1)])])])])]),t("div",W,[t("div",E,[t("div",q,[s[6]||(s[6]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1)),t("div",G,[t("dl",null,[s[5]||(s[5]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Sesi Tersedia",-1)),t("dd",K,i(r.upcomingSessions.length),1)])])])])]),t("div",Q,[t("div",U,[t("div",X,[s[8]||(s[8]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5 13l4 4L19 7"})])])],-1)),t("div",Y,[t("dl",null,[s[7]||(s[7]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Sesi Selesai",-1)),t("dd",Z,i(D()),1)])])])])])]),t("div",tt,[s[16]||(s[16]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Sesi Manasik Mendatang "),t("p",{class:"mt-1 text-sm text-gray-500"}," Daftar dan ikuti sesi manasik yang tersedia untuk persiapan umroh Anda ")],-1)),t("div",et,[r.upcomingSessions.length>0?(d(),n("div",st,[(d(!0),n(u,null,x(r.upcomingSessions,e=>(d(),n("div",{key:e.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200"},[t("div",at,[t("div",null,[t("h4",nt,i(e.title),1),e.description?(d(),n("p",dt,i(e.description),1)):l("",!0)]),t("div",it,[t("span",{class:g([w(e.type),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},i(k(e.type)),3),e.is_mandatory?(d(),n("span",lt," Wajib ")):l("",!0)])]),t("div",rt,[t("div",null,[s[9]||(s[9]=t("div",{class:"text-sm font-medium text-gray-500"},"Tanggal",-1)),t("div",ot,i(h(e.session_date)),1)]),t("div",null,[s[10]||(s[10]=t("div",{class:"text-sm font-medium text-gray-500"},"Waktu",-1)),t("div",ct,i(o(e.start_time))+" - "+i(o(e.end_time)),1)]),e.location?(d(),n("div",ut,[s[11]||(s[11]=t("div",{class:"text-sm font-medium text-gray-500"},"Lokasi",-1)),t("div",gt,i(e.location),1)])):l("",!0),e.instructor_name?(d(),n("div",mt,[s[12]||(s[12]=t("div",{class:"text-sm font-medium text-gray-500"},"Instruktur",-1)),t("div",xt,i(e.instructor_name),1)])):l("",!0)]),e.online_link?(d(),n("div",yt,[s[13]||(s[13]=t("div",{class:"text-sm font-medium text-gray-500 mb-1"},"Link Online",-1)),t("a",{href:e.online_link,target:"_blank",class:"text-blue-600 hover:text-blue-800 text-sm break-all"},i(e.online_link),9,ht)])):l("",!0),e.materials&&e.materials.length>0?(d(),n("div",pt,[s[14]||(s[14]=t("div",{class:"text-sm font-medium text-gray-500 mb-1"},"Materi yang Diperlukan",-1)),t("div",ft,[(d(!0),n(u,null,x(e.materials,c=>(d(),n("span",{key:c,class:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded"},i(c),1))),128))])])):l("",!0),t("div",_t,[t("div",null,[e.attendances&&e.attendances.length>0?(d(),n("span",{key:0,class:g([f(e.attendances[0].status),"inline-flex px-3 py-1 text-sm font-semibold rounded-full"])},i(p(e.attendances[0].status)),3)):(d(),n("span",bt," Belum terdaftar "))]),t("div",vt,[e.max_participants?(d(),n("div",kt,i(e.participant_count||0)+"/"+i(e.max_participants)+" peserta ",1)):l("",!0),t("div",wt,[!e.attendances||e.attendances.length===0?(d(),n("button",{key:0,onClick:c=>S(e.id),disabled:m(e),class:g([m(e)?"bg-gray-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-700","text-white font-bold py-2 px-4 rounded text-sm"])},[m(e)?(d(),n("span",Ct,"Penuh")):(d(),n("span",jt,"Daftar"))],10,St)):e.attendances[0].status==="registered"?(d(),n("button",{key:1,onClick:c=>C(e.id),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded text-sm"}," Batal Daftar ",8,Dt)):l("",!0)])])])]))),128))])):(d(),n("div",Mt,[...s[15]||(s[15]=[t("div",{class:"text-gray-400 mb-2"},[t("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),t("p",{class:"text-gray-500"}," Belum ada sesi manasik terjadwal ",-1)])]))])]),r.pastSessions.length>0?(d(),n("div",At,[s[17]||(s[17]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Riwayat Sesi Manasik "),t("p",{class:"mt-1 text-sm text-gray-500"}," Sesi manasik yang telah Anda ikuti sebelumnya ")],-1)),t("div",Bt,[t("div",Tt,[(d(!0),n(u,null,x(r.pastSessions,e=>(d(),n("div",{key:e.id,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[t("div",Vt,[t("div",null,[t("h4",zt,i(e.title),1),t("p",Lt,i(h(e.session_date))+" • "+i(o(e.start_time))+" - "+i(o(e.end_time)),1)]),t("div",Ft,[e.attendances&&e.attendances.length>0?(d(),n("span",{key:0,class:g([f(e.attendances[0].status),"inline-flex px-3 py-1 text-sm font-semibold rounded-full"])},i(p(e.attendances[0].status)),3)):l("",!0),e.attendances&&e.attendances.length>0&&e.attendances[0].completion_score?(d(),n("div",Ht,[t("div",It," Nilai: "+i(e.attendances[0].completion_score),1)])):l("",!0)])])]))),128))])])])):l("",!0)])])]),_:1})],64))}};export{Rt as default};
